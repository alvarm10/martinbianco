/*******************************************************************************
**
** FileName: api.js
**
*******************************************************************************/

/*
Descripción: 
Fecha: 00/00/0000
Versión: V1
*/

// variables
$unidad = [];   	//Array multidimensional donde se encuentran los temas ($unidad[x][0]) y subtemas ($unidad[x][1])
$pagina = 14;    	//Página por donde voy
$paginaAnterior = 0;
$porcentaje = 0;


$cerrar = '<svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="cancel-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.0726496,0.11965812 17.5,0.11965812 C7.92735043,0.11965812 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M10.9786325,23.8418803 C11.2179487,24.0811966 11.517094,24.2008547 11.8461538,24.2008547 C12.1752137,24.2008547 12.474359,24.0811966 12.7136752,23.8418803 L17.5,19.0555556 L22.2863248,23.8418803 C22.525641,24.0811966 22.8247863,24.2008547 23.1538462,24.2008547 C23.482906,24.2008547 23.7820513,24.0811966 24.0213675,23.8418803 C24.5,23.3632479 24.5,22.5854701 24.0213675,22.1068376 L19.2350427,17.3205128 L24.0213675,12.534188 C24.5,12.0555556 24.5,11.2777778 24.0213675,10.7991453 C23.542735,10.3205128 22.7649573,10.3205128 22.2863248,10.7991453 L17.5,15.5854701 L12.7136752,10.7991453 C12.2350427,10.3205128 11.457265,10.3205128 10.9786325,10.7991453 C10.5,11.2777778 10.5,12.0555556 10.9786325,12.534188 L15.7649573,17.3205128 L10.9786325,22.1068376 C10.5,22.5854701 10.5,23.3632479 10.9786325,23.8418803 L10.9786325,23.8418803 Z" id="Shape1"></path></g></svg>';
$menu = '<svg class="center-block" width="35px" height="27px" viewBox="0 0 35 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="menu" fill="#000000"><path d="M32.4420286,0.147754137 L2.47026381,0.147754137 C1.18894301,0.147754137 0.186170213,0.679669031 0.186170213,1.35933806 C0.186170213,2.03900709 1.18894301,2.57092199 2.47026381,2.57092199 L32.4977382,2.57092199 C33.779059,2.57092199 34.7818318,2.03900709 34.7818318,1.35933806 C34.7261222,0.679669031 33.7233494,0.147754137 32.4420286,0.147754137 L32.4420286,0.147754137 Z" id="Shape"></path><path d="M32.4420286,16.0756501 L2.47026381,16.0756501 C1.18894301,16.0756501 0.186170213,16.607565 0.186170213,17.287234 C0.186170213,17.9669031 1.18894301,18.498818 2.47026381,18.498818 L32.4977382,18.498818 C33.779059,18.498818 34.7818318,17.9669031 34.7818318,17.287234 C34.7261222,16.607565 33.7233494,16.0756501 32.4420286,16.0756501 L32.4420286,16.0756501 Z" id="Shape"></path><path d="M32.2558584,23.8297872 L2.2840936,23.8297872 C1.0027728,23.8297872 3.55271368e-15,24.3617021 3.55271368e-15,25.0413712 C3.55271368e-15,25.7210402 1.0027728,26.2529551 2.2840936,26.2529551 L32.311568,26.2529551 C33.5928888,26.2529551 34.5956616,25.7210402 34.5956616,25.0413712 C34.539952,24.3617021 33.5371792,23.8297872 32.2558584,23.8297872 L32.2558584,23.8297872 Z" id="Shape"></path><path d="M32.4420286,8.09692671 L2.47026381,8.09692671 C1.18894301,8.09692671 0.186170213,8.62884161 0.186170213,9.30851064 C0.186170213,9.98817967 1.18894301,10.5200946 2.47026381,10.5200946 L32.4977382,10.5200946 C33.779059,10.5200946 34.7818318,9.98817967 34.7818318,9.30851064 C34.7261222,8.62884161 33.7233494,8.09692671 32.4420286,8.09692671 L32.4420286,8.09692671 Z" id="Shape"></path></g></svg>';
$audioOn = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="volume" fill="#000000"><path d="M1.34615385,26.8034188 L9.42307692,26.8034188 C10.1111111,26.8034188 10.6495726,26.2649573 10.6495726,25.5769231 L10.6495726,25.1581197 L24.8888889,34.6410256 C25.0982906,34.7905983 25.3376068,34.8504274 25.5769231,34.8504274 C25.7863248,34.8504274 25.965812,34.7905983 26.1452991,34.7008547 C26.534188,34.491453 26.8034188,34.0726496 26.8034188,33.6239316 L26.8034188,1.34615385 C26.8034188,0.897435897 26.5641026,0.478632479 26.1452991,0.269230769 C25.7564103,0.0598290598 25.2777778,0.0897435897 24.8888889,0.329059829 L10.6495726,9.84188034 L10.6495726,9.42307692 C10.6495726,8.73504274 10.1111111,8.1965812 9.42307692,8.1965812 L1.34615385,8.1965812 C0.658119658,8.1965812 0.11965812,8.73504274 0.11965812,9.42307692 L0.11965812,25.5769231 C0.11965812,26.2350427 0.688034188,26.8034188 1.34615385,26.8034188 L1.34615385,26.8034188 Z M10.6495726,12.7735043 L24.3504274,3.64957265 L24.3504274,31.3803419 L10.6495726,22.2264957 L10.6495726,12.7735043 L10.6495726,12.7735043 Z M2.57264957,10.6495726 L8.1965812,10.6495726 L8.1965812,12.1153846 L8.1965812,22.8846154 L8.1965812,24.3504274 L2.57264957,24.3504274 L2.57264957,10.6495726 L2.57264957,10.6495726 Z" id="Shape"></path><path d="M33.6538462,8.1965812 C32.965812,8.1965812 32.4273504,8.73504274 32.4273504,9.42307692 L32.4273504,25.5769231 C32.4273504,26.2649573 32.965812,26.8034188 33.6538462,26.8034188 C34.3418803,26.8034188 34.8803419,26.2649573 34.8803419,25.5769231 L34.8803419,9.42307692 C34.8803419,8.76495726 34.3119658,8.1965812 33.6538462,8.1965812 L33.6538462,8.1965812 Z" id="Shape"></path></g></svg>';
$audioOff = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="volumeOff" fill="#000000"><path id="Shape" d="M1.346,26.803h8.077c0.688,0,1.227-0.537,1.227-1.226v-0.419l14.239,9.482c0.209,0.15,0.449,0.21,0.688,0.21 c0.209,0,0.389-0.06,0.568-0.149c0.389-0.21,0.657-0.629,0.657-1.077V1.346c0-0.449-0.238-0.868-0.657-1.077 c-0.39-0.209-0.868-0.179-1.257,0.06L10.649,9.842V9.423c0-0.688-0.538-1.226-1.227-1.226H1.346c-0.688,0-1.227,0.538-1.227,1.226 v16.154C0.12,26.234,0.688,26.803,1.346,26.803L1.346,26.803z M10.649,12.773l13.701-9.124v27.731l-13.701-9.154V12.773 L10.649,12.773z M2.573,10.649h5.624v1.466v10.77v1.466H2.573V10.649L2.573,10.649z"/><path id="Shape_1_" d="M33.654,8.197c-0.688,0-1.227,0.538-1.227,1.226v16.154c0,0.688,0.538,1.226,1.227,1.226 c0.688,0,1.227-0.537,1.227-1.226V9.423C34.881,8.765,34.313,8.197,33.654,8.197L33.654,8.197z"/><path id="close" d="M0.479,34.521c0.239,0.239,0.539,0.359,0.868,0.359s0.628-0.12,0.868-0.359L17.5,19.234l15.286,15.287 c0.239,0.239,0.538,0.359,0.868,0.359c0.299,0,0.628-0.12,0.867-0.359c0.479-0.479,0.479-1.256,0-1.735L19.234,17.5L34.521,2.214 C35,1.735,35,0.957,34.521,0.479s-1.256-0.479-1.735,0L17.5,15.765L2.214,0.479C1.735,0,0.957,0,0.479,0.479S0,1.735,0.479,2.214 L15.765,17.5L0.479,32.786C0,33.266,0,34.043,0.479,34.521L0.479,34.521z"/></g></svg>';
$ayuda = '<svg class="center-block" width="21px" height="34px" viewBox="0 0 21 34" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M8.25514403,29.0562414 L8.25514403,34 L12.1728395,34 L12.1728395,29.0562414 L8.25514403,29.0562414 Z M0,10.9602195 L2.9382716,10.9602195 C2.90717863,9.74759339 3.04709492,8.62826302 3.35802469,7.60219479 C3.66895446,6.57612656 4.13534211,5.68221689 4.75720165,4.92043896 C5.37906118,4.15866103 6.17192019,3.56013021 7.13580247,3.12482853 C8.09968475,2.68952686 9.20346886,2.47187929 10.4471879,2.47187929 C11.3488843,2.47187929 12.2039283,2.62734184 13.0123457,2.9382716 C13.8207631,3.24920137 14.5281177,3.67672339 15.1344307,4.22085048 C15.7407438,4.76497757 16.2226777,5.42569342 16.5802469,6.20301783 C16.9378161,6.98034225 17.1165981,7.83538628 17.1165981,8.76817558 C17.1165981,9.98080167 16.8289924,11.0845858 16.2537723,12.079561 C15.6785522,13.0745363 14.9556514,13.9762191 14.085048,14.7846365 C13.0900728,15.6863328 12.2428019,16.4947381 11.5432099,17.2098765 C10.8436179,17.925015 10.2839527,18.6712353 9.86419753,19.4485597 C9.44444235,20.2258841 9.14129037,21.0964744 8.95473251,22.0603567 C8.76817465,23.0242389 8.69044337,24.2213006 8.72153635,25.6515775 L11.659808,25.6515775 C11.6909009,24.2213006 11.753086,23.1252896 11.8463649,22.3635117 C11.9396438,21.6017337 12.1261989,20.9565641 12.4060357,20.4279835 C12.6858725,19.8994029 13.1133945,19.3630571 13.6886145,18.81893 C14.2638346,18.2748029 15.0333742,17.5208096 15.9972565,16.5569273 C17.1787896,15.4375801 18.1504306,14.271611 18.9122085,13.0589849 C19.6739864,11.8463588 20.0548697,10.3694646 20.0548697,8.62825789 C20.0548697,7.26016691 19.8061296,6.04755901 19.308642,4.99039781 C18.8111543,3.9332366 18.1271191,3.0315538 17.2565158,2.28532236 C16.3859124,1.53909092 15.383179,0.971652606 14.2482853,0.582990398 C13.1133917,0.194328189 11.8930106,0 10.5871056,0 C8.90808488,0 7.41564439,0.264286337 6.10973937,0.792866941 C4.80383435,1.32144754 3.69227711,2.05989466 2.77503429,3.00823045 C1.85779148,3.95656624 1.16598313,5.10698912 0.699588477,6.45953361 C0.233193827,7.81207809 0,9.31229171 0,10.9602195 L0,10.9602195 Z" id="help" fill="#000000"></path></svg>';
$download = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="download" fill="#000000"><path d="M16.6463415,29.0091575 C16.7601626,29.1239316 16.902439,29.2100122 17.0447154,29.2673993 L17.0731707,29.2673993 C17.2154472,29.3247863 17.3577236,29.3534799 17.5284553,29.3534799 C17.699187,29.3534799 17.8414634,29.3247863 17.9837398,29.2673993 L18.0121951,29.2673993 C18.1544715,29.2100122 18.296748,29.1239316 18.4105691,29.0091575 L34.601626,12.6825397 C35.0853659,12.1947497 35.0853659,11.4200244 34.601626,10.9322344 C34.1178862,10.4444444 33.3495935,10.4444444 32.8658537,10.9322344 L18.7235772,25.1355311 L18.7235772,1.37728938 C18.7235772,0.688644689 18.1829268,0.143467643 17.5,0.143467643 C16.8170732,0.143467643 16.2764228,0.688644689 16.2764228,1.37728938 L16.2764228,25.1642247 L2.19105691,10.9322344 C1.70731707,10.4444444 0.93902439,10.4444444 0.455284553,10.9322344 C-0.0284552846,11.4200244 -0.0284552846,12.1947497 0.455284553,12.6825397 L16.6463415,29.0091575 L16.6463415,29.0091575 Z" id="Shape"></path><path d="M1.30894309,33.4566545 L33.6910569,33.4566545 C34.3739837,33.4566545 34.9146341,32.9114774 34.9146341,32.2228327 C34.9146341,31.534188 34.3739837,30.989011 33.6910569,30.989011 L1.30894309,30.989011 C0.62601626,30.989011 0.0853658537,31.534188 0.0853658537,32.2228327 C0.0853658537,32.8827839 0.62601626,33.4566545 1.30894309,33.4566545 L1.30894309,33.4566545 Z" id="Shape"></path></g></svg>';
$next = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="right-arrow-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.0726496,0.11965812 17.5,0.11965812 C7.92735043,0.11965812 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M13.491453,26.1752137 C13.7307692,26.4145299 14.0299145,26.534188 14.3589744,26.534188 C14.6581197,26.534188 14.9871795,26.4145299 15.2264957,26.1752137 L23.1239316,18.2777778 C23.3632479,18.0384615 23.482906,17.7393162 23.482906,17.4102564 C23.482906,17.0811966 23.3632479,16.7820513 23.1239316,16.542735 L15.2264957,8.64529915 C14.7478632,8.16666667 13.9700855,8.16666667 13.491453,8.64529915 C13.0128205,9.12393162 13.0128205,9.9017094 13.491453,10.3803419 L20.5213675,17.4102564 L13.491453,24.4401709 C13.0128205,24.9188034 13.0128205,25.6965812 13.491453,26.1752137 L13.491453,26.1752137 Z" id="Shape"></path></g></svg>';
$prev = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="left-arrow-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.1025641,0.14957265 17.5,0.14957265 C7.8974359,0.14957265 0.14957265,7.92735043 0.14957265,17.5 C0.14957265,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M19.1452991,26.1752137 C19.3846154,26.4145299 19.6837607,26.534188 20.0128205,26.534188 C20.3119658,26.534188 20.6410256,26.4145299 20.8803419,26.1752137 C21.3589744,25.6965812 21.3589744,24.9188034 20.8803419,24.4401709 L13.8504274,17.4102564 L20.8803419,10.3803419 C21.3589744,9.9017094 21.3589744,9.12393162 20.8803419,8.64529915 C20.4017094,8.16666667 19.6239316,8.16666667 19.1452991,8.64529915 L11.2478632,16.542735 C11.008547,16.7820513 10.8888889,17.0811966 10.8888889,17.4102564 C10.8888889,17.7393162 11.008547,18.0384615 11.2478632,18.2777778 L19.1452991,26.1752137 L19.1452991,26.1752137 Z" id="Shape"></path></g></svg>';
$glosario = '<svg class="center-block" width="28px" height="35px" viewBox="0 0 28 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="padnote" fill="#000000"><path d="M21.0693069,0 L7.45742574,0 C6.81980198,0 6.32079208,0.5 6.32079208,1.13888889 L6.32079208,2.72222222 L1.3029703,2.72222222 C0.665346535,2.72222222 0.166336634,3.22222222 0.166336634,3.86111111 L0.166336634,33.8611111 C0.166336634,34.5 0.665346535,35 1.3029703,35 L26.6970297,35 C27.3346535,35 27.8336634,34.5 27.8336634,33.8611111 L27.8336634,3.86111111 C27.8336634,3.22222222 27.3346535,2.72222222 26.6970297,2.72222222 L22.2059406,2.72222222 L22.2059406,1.13888889 C22.2059406,0.5 21.7069307,0 21.0693069,0 L21.0693069,0 Z M8.59405941,3.86111111 L8.59405941,2.27777778 L19.9326733,2.27777778 L19.9326733,3.86111111 L19.9326733,5.86111111 L8.59405941,5.86111111 L8.59405941,3.86111111 L8.59405941,3.86111111 Z M25.560396,5 L25.560396,32.7222222 L2.43960396,32.7222222 L2.43960396,5 L6.32079208,5 L6.32079208,7 C6.32079208,7.63888889 6.81980198,8.13888889 7.45742574,8.13888889 L21.0693069,8.13888889 C21.7069307,8.13888889 22.2059406,7.63888889 22.2059406,7 L22.2059406,5 L25.560396,5 L25.560396,5 Z" id="Shape"></path><path d="M22.4554455,19.7222222 L6.07128713,19.7222222 C5.43366337,19.7222222 4.93465347,20.2222222 4.93465347,20.8611111 C4.93465347,21.5 5.43366337,22 6.07128713,22 L22.4554455,22 C23.0930693,22 23.5920792,21.5 23.5920792,20.8611111 C23.5920792,20.2222222 23.0930693,19.7222222 22.4554455,19.7222222 L22.4554455,19.7222222 Z" id="Shape"></path><path d="M14.2772277,25.2222222 L6.07128713,25.2222222 C5.43366337,25.2222222 4.93465347,25.7222222 4.93465347,26.3611111 C4.93465347,27 5.43366337,27.5 6.07128713,27.5 L14.249505,27.5 C14.8871287,27.5 15.3861386,27 15.3861386,26.3611111 C15.3861386,25.7222222 14.8871287,25.2222222 14.2772277,25.2222222 L14.2772277,25.2222222 Z" id="Shape"></path><path d="M4.93465347,15.3333333 C4.93465347,15.9722222 5.43366337,16.4722222 6.07128713,16.4722222 L22.4554455,16.4722222 C23.0930693,16.4722222 23.5920792,15.9722222 23.5920792,15.3333333 C23.5920792,14.6944444 23.0930693,14.1944444 22.4554455,14.1944444 L6.07128713,14.1944444 C5.43366337,14.1944444 4.93465347,14.7222222 4.93465347,15.3333333 L4.93465347,15.3333333 Z" id="Shape"></path></g></svg>';
$docs = '<svg class="center-block" width="30px" height="35px" viewBox="0 0 30 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="file" fill="#000000"><path d="M1.38613861,34.8504274 L28.4010954,34.8504274 C29.0794186,34.8504274 29.6102802,34.3119658 29.6102802,33.6239316 L29.6102802,1.34615385 C29.6102802,0.658119658 29.0794186,0.11965812 28.4010954,0.11965812 L8.13987782,0.11965812 C8.05140088,0.11965812 7.93343164,0.11965812 7.84495471,0.14957265 C7.8154624,0.14957265 7.78597009,0.179487179 7.78597009,0.179487179 C7.69749315,0.209401709 7.63850853,0.239316239 7.5500316,0.269230769 C7.52053929,0.299145299 7.49104698,0.299145299 7.46155467,0.329059829 C7.37307773,0.388888889 7.2846008,0.448717949 7.22561618,0.538461538 L0.471876975,8.61538462 C0.383400042,8.70512821 0.32441542,8.82478632 0.265430798,8.94444444 C0.235938487,8.97435897 0.235938487,9.03418803 0.235938487,9.06410256 C0.206446177,9.15384615 0.206446177,9.24358974 0.176953866,9.33333333 L0.176953866,9.39316239 L0.176953866,33.5940171 C0.176953866,34.3119658 0.737307773,34.8504274 1.38613861,34.8504274 L1.38613861,34.8504274 Z M6.93069307,4.6965812 L6.93069307,8.22649573 L3.98146198,8.22649573 L6.93069307,4.6965812 L6.93069307,4.6965812 Z M2.59532336,10.6495726 L8.13987782,10.6495726 C8.81820097,10.6495726 9.34906257,10.1111111 9.34906257,9.42307692 L9.34906257,2.57264957 L27.1919107,2.57264957 L27.1919107,32.3974359 L2.59532336,32.3974359 L2.59532336,10.6495726 L2.59532336,10.6495726 Z" id="Shape"></path><path d="M23.5938487,13.3119658 L6.1933853,13.3119658 C5.51506214,13.3119658 4.98420055,13.8504274 4.98420055,14.5384615 C4.98420055,15.2264957 5.51506214,15.7649573 6.1933853,15.7649573 L23.5938487,15.7649573 C24.2721719,15.7649573 24.8030335,15.2264957 24.8030335,14.5384615 C24.8030335,13.8504274 24.2721719,13.3119658 23.5938487,13.3119658 L23.5938487,13.3119658 Z" id="Shape"></path><path d="M23.5938487,19.2350427 L6.1933853,19.2350427 C5.51506214,19.2350427 4.98420055,19.7735043 4.98420055,20.4615385 C4.98420055,21.1495726 5.51506214,21.6880342 6.1933853,21.6880342 L23.5938487,21.6880342 C24.2721719,21.6880342 24.8030335,21.1495726 24.8030335,20.4615385 C24.8030335,19.8034188 24.2721719,19.2350427 23.5938487,19.2350427 L23.5938487,19.2350427 Z" id="Shape"></path></g></svg>';
$checkon = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg>';
$checkoff = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check-off" fill="#000000"><path d="M17.5,34.8205128 C27.042735,34.8205128 34.8205128,27.042735 34.8205128,17.5 C34.8205128,7.95726496 27.042735,0.179487179 17.5,0.179487179 C7.95726496,0.179487179 0.179487179,7.95726496 0.179487179,17.5 C0.179487179,27.042735 7.95726496,34.8205128 17.5,34.8205128 L17.5,34.8205128 Z M17.5,2.6025641 C25.6965812,2.6025641 32.3974359,9.27350427 32.3974359,17.5 C32.3974359,25.7264957 25.7264957,32.3974359 17.5,32.3974359 C9.27350427,32.3974359 2.6025641,25.6965812 2.6025641,17.5 C2.6025641,9.3034188 9.3034188,2.6025641 17.5,2.6025641 L17.5,2.6025641 Z" id="Shape"></path></g></svg>';
$more = '<svg class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="add" fill="#000000"><path d="M17.5,0.14957265 C7.92735043,0.14957265 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.8974359,34.8504274 17.5,34.8504274 C27.0726496,34.8504274 34.8504274,27.0726496 34.8504274,17.5 C34.8504274,7.92735043 27.0726496,0.14957265 17.5,0.14957265 L17.5,0.14957265 Z M17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 L17.5,32.4273504 Z" id="Shape"></path><path d="M25.4871795,16.1239316 L18.7264957,16.1239316 L18.7264957,9.33333333 C18.7264957,8.64529915 18.1880342,8.10683761 17.5,8.10683761 C16.8119658,8.10683761 16.2735043,8.64529915 16.2735043,9.33333333 L16.2735043,16.0940171 L9.51282051,16.0940171 C8.82478632,16.0940171 8.28632479,16.6324786 8.28632479,17.3205128 C8.28632479,18.008547 8.82478632,18.5470085 9.51282051,18.5470085 L16.2735043,18.5470085 L16.2735043,25.3076923 C16.2735043,25.9957265 16.8119658,26.534188 17.5,26.534188 C18.1880342,26.534188 18.7264957,25.9957265 18.7264957,25.3076923 L18.7264957,18.5470085 L25.4871795,18.5470085 C26.1752137,18.5470085 26.7136752,18.008547 26.7136752,17.3205128 C26.7136752,16.6324786 26.1752137,16.1239316 25.4871795,16.1239316 L25.4871795,16.1239316 Z" id="Shape"></path></g></svg>';
$select = '<svg class="center-block" version="1.1" id="arrow-bottom" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="35px" height="35px" viewBox="0 0 35 35" enable-background="new 0 0 35 35" xml:space="preserve"><g id="right-arrow-1"><path id="Shape_1_" d="M8.734,12.684c-0.238,0.24-0.358,0.539-0.358,0.868c0,0.299,0.12,0.628,0.358,0.867l7.898,7.897 c0.238,0.239,0.538,0.358,0.867,0.358s0.628-0.119,0.867-0.358l7.897-7.897c0.479-0.479,0.479-1.256,0-1.735 c-0.479-0.479-1.256-0.479-1.734,0l-7.03,7.03l-7.03-7.03C9.991,12.205,9.213,12.205,8.734,12.684L8.734,12.684z"/></g></svg>';
$square = '<svg class="center-block" version="1.1" id="square" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="5px" height="5px" viewBox="0 0 5 5" enable-background="new 0 0 5 5" xml:space="preserve"><rect x="0" y="0" fill="#ff0000" width="5" height="5"/></svg>';

$interrogacion = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 461.63 461.63"><defs><style>.cls-1{}</style></defs><title>examen</title><g fill="#822433" id="Capa_1" data-name="Capa 1"><path d="M271.06,314.14H225.94q-.18-9.73-.18-11.86,0-21.94,7.25-36.1t29-31.85q21.76-17.69,26-23.18a31,31,0,0,0,6.55-19.11q0-14.51-11.59-24.86t-31.23-10.35q-18.94,0-31.67,10.79t-17.52,32.91l-45.65-5.66q1.95-31.67,27-53.79T249.65,119q42.82,0,68.12,22.38t25.3,52.11a57.29,57.29,0,0,1-9.29,31.14q-9.29,14.69-39.72,40-15.75,13.1-19.55,21.06T271.06,314.14ZM225.94,381V331.31h49.72V381Z" transform="translate(-19.19 -19.19)"/></g><g fill="#822433" id="Capa_2" data-name="Capa 2"><path class="cls-1" d="M250,19.19C122.52,19.19,19.19,122.52,19.19,250S122.52,480.81,250,480.81,480.81,377.48,480.81,250,377.48,19.19,250,19.19Zm0,421.22C144.84,440.41,59.59,355.16,59.59,250S144.84,59.59,250,59.59,440.41,144.84,440.41,250,355.16,440.41,250,440.41Z" transform="translate(-19.19 -19.19)"/></g></svg>';

$lupaOkActive = '<svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35"><defs><style>.cls-1{fill:none;}</style></defs><title>lupaOkActive</title><rect x="27.33" y="17.19" width="2.45" height="16.7" rx="1.23" ry="1.23" transform="translate(26.43 -12.71) rotate(45)"/><rect x="20.68" y="25.63" width="2.45" height="6.67" rx="1.23" ry="1.23" transform="translate(57.87 33.97) rotate(135)"/><path d="M15.55.61a10.68,10.68,0,1,0,8.24,12.66A10.68,10.68,0,0,0,15.55.61Zm-4,18.76a8.49,8.49,0,1,1,10.07-6.55A8.49,8.49,0,0,1,11.59,19.37Z"/><rect x="8.64" y="20.37" width="2.45" height="14.31" rx="1.23" ry="1.23" transform="translate(5.9 -1.44) rotate(11.93)"/><rect x="7.24" y="26.12" width="4.05" height="8.5" rx="2.03" ry="2.03" transform="translate(6.48 -1.26) rotate(11.93)"/><rect class="cls-1" width="35" height="35"/></svg>';

$lupaOkInactive = '<svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35"><defs><style>.cls-1{fill:none;}</style></defs><title>lupaOkInactive</title><rect x="27.33" y="17.19" width="2.45" height="16.7" rx="1.23" ry="1.23" transform="translate(26.43 -12.71) rotate(45)"/><rect x="20.68" y="25.63" width="2.45" height="6.67" rx="1.23" ry="1.23" transform="translate(57.87 33.97) rotate(135)"/><path d="M15.55.61a10.68,10.68,0,1,0,8.24,12.66A10.68,10.68,0,0,0,15.55.61Zm-4,18.76a8.49,8.49,0,1,1,10.07-6.55A8.49,8.49,0,0,1,11.59,19.37Z"/><rect x="8.64" y="20.37" width="2.45" height="14.31" rx="1.23" ry="1.23" transform="translate(5.9 -1.44) rotate(11.93)"/><rect x="7.24" y="26.12" width="4.05" height="8.5" rx="2.03" ry="2.03" transform="translate(6.48 -1.26) rotate(11.93)"/><rect class="cls-1" width="35" height="35"/><rect x="16.27" y="-4.48" width="2.45" height="43.97" rx="1.23" ry="1.23" transform="translate(42.25 17.5) rotate(135)"/><rect x="16.27" y="-4.48" width="2.45" height="43.97" rx="1.23" ry="1.23" transform="translate(17.5 -7.25) rotate(45)"/></svg>';

$lupaWrongActive = '<svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35"><defs><style>.cls-1{fill:none;}</style></defs><title>lupaWrongActive</title><rect x="27.33" y="17.19" width="2.45" height="16.7" rx="1.23" ry="1.23" transform="translate(26.43 -12.71) rotate(45)"/><rect x="27.33" y="17.19" width="2.45" height="16.7" rx="1.23" ry="1.23" transform="translate(66.81 23.41) rotate(135)"/><path d="M15.55.61a10.68,10.68,0,1,0,8.24,12.66A10.68,10.68,0,0,0,15.55.61Zm-4,18.76a8.49,8.49,0,1,1,10.07-6.55A8.49,8.49,0,0,1,11.59,19.37Z"/><rect x="8.64" y="20.37" width="2.45" height="14.31" rx="1.23" ry="1.23" transform="translate(5.9 -1.44) rotate(11.93)"/><rect x="7.24" y="26.12" width="4.05" height="8.5" rx="2.03" ry="2.03" transform="translate(6.48 -1.26) rotate(11.93)"/><rect class="cls-1" width="35" height="35"/></svg>';

$lupaWrongInactive = '<svg id="Capa_1" data-name="Capa 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 35"><defs><style>.cls-1{fill:none;}</style></defs><title>lupaWrongInactive</title><rect x="27.33" y="17.19" width="2.45" height="16.7" rx="1.23" ry="1.23" transform="translate(26.43 -12.71) rotate(45)"/><rect x="27.33" y="17.19" width="2.45" height="16.7" rx="1.23" ry="1.23" transform="translate(66.81 23.41) rotate(135)"/><path d="M15.55.61a10.68,10.68,0,1,0,8.24,12.66A10.68,10.68,0,0,0,15.55.61Zm-4,18.76a8.49,8.49,0,1,1,10.07-6.55A8.49,8.49,0,0,1,11.59,19.37Z"/><rect x="8.64" y="20.37" width="2.45" height="14.31" rx="1.23" ry="1.23" transform="translate(5.9 -1.44) rotate(11.93)"/><rect x="7.24" y="26.12" width="4.05" height="8.5" rx="2.03" ry="2.03" transform="translate(6.48 -1.26) rotate(11.93)"/><rect class="cls-1" width="35" height="35"/><rect x="16.27" y="-4.48" width="2.45" height="43.97" rx="1.23" ry="1.23" transform="translate(42.25 17.5) rotate(135)"/><rect x="16.27" y="-4.48" width="2.45" height="43.97" rx="1.23" ry="1.23" transform="translate(17.5 -7.25) rotate(45)"/></svg>';

if ($(".header-academico .banda1").hasClass("imagen-fondo")) {$(".header-academico .banda1 .logo-academico img").attr("src","../assets/img/LogoFormacion_2.svg")}

if ($("div.titulo-unidad-academico > h1").height()<=$("div.titulo-unidad-academico").height()) {
			var marginTUA = ($("div.titulo-unidad-academico").height()-$("div.titulo-unidad-academico > h1").height())/2
		 	marginTUA = marginTUA + "px"
		 	$("div.titulo-unidad-academico > h1").css("margin-top",marginTUA);
		}
		$(window).resize(function(){
			if ($("div.titulo-unidad-academico > h1").height()<=$("div.titulo-unidad-academico").height()) {
				var marginTUA = ($("div.titulo-unidad-academico").height()-$("div.titulo-unidad-academico > h1").height())/2
				marginTUA = marginTUA + "px"
				$("div.titulo-unidad-academico > h1").css("margin-top",marginTUA);
			}
		})

 function cargar(){
    
   
	cargarInterfaz();
	cargarPagina();
	

	

	//Función para que funcionen los tooltip
	$(function(){
	  $('[data-toggle="tooltip"]').tooltip()
	});

	//Desplegar/Plegar el sumario en version para móvil
    $('#btn-nav-phone').on('click',function(){
		$('.nav-phone-ul, .nav-lista').slideToggle(500);
	});

	//Desplegar sublistas
    $('.fila-despegable').on('click',function(){
    	$item = $(this).val();
    	//console.log($item);
		$('.subtema' + $item).slideToggle(500);
	});

	//Para ocultar el contenido del menú 
	$(window).resize(function() {
	  	if($(window).width() >= 991){
			$('.nav-phone-ul').css('display','none');
			$('.nav-phone-subFilas').css('display','none');
			$('.nav-desktop-subFilas').css('display','none');
		}
	});
}


/* 
** Function: cargarInterfaz();
** Description: Pintar contenido
============================================================================= */
function cargarInterfaz(){

	//pintar titulo de la unidad
	$('h1').html(nombreUnidad);
	pintarIconos();
}




/* 
** Function: pintarIconos();
** Description: Pintar todos los iconos en svg
============================================================================= */
function pintarIconos(){
	//pintar los iconos svg
	$('.icon-cerrar').html($cerrar);
	$('.icon-nav').html($menu);
	$('.icon-next').html($next);
	$('.icon-prev').html($prev);
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////
//FUNCIÓN QUE ME SIRVE PARA QUE PUEDA PARSEAR LOS JSON GUARDADOS EN LA BASE DE DATOS DE MOODLE:
// 1. LAS PAGINAS VISTAS
// 2. DE LO QUE ESTÁ CHECKED Y NO CHECKED
//Y ASÍ CONVERTIR ESOS JSON EN ARRAYS YA QUE EN VERSIONES ANTIGUAS DE MOODLE NO FUNCIONABA CORRECTAMENTE SIN ESTA FUNCIÓN


/*function stripslashes (str) {
  return (str + '')
    .replace(/\\(.?)/g, function (s, n1) {
      switch (n1) {
        case '\\':
          return '\\'
        case '0':
          return '\u0000'
        case '':
          return ''
        default:
          return n1
      }
    })
};


*/


//FUNCION QUE ME SIRVE PARA BORRAR LOS INTENTOS SCORM

function limpiarBD() {
doLMSSetValue("cmi.core.score.raw", "0");
doLMSSetValue("cmi.suspend_data", "");
doLMSSetValue("cmi.core.lesson_status", "incomplete");
doLMSCommit();
console.log("limpiarBD");
}  

//limpiarBD();



//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
var contador=0;
//duplicado el array de preguntas para si repite el test que borre las preguntas correctas
var datoscopia=datos.slice();
//SI QUIERO ELIMINAR LAS PREGUNTAS ACERTADAS EN LOS SIGUIENTES INTENTOS DEL TEST ENTRA AQUI Y DE PUNTUACIÓN INICIAL SERÁ LA QUE SAQUE EN EL INTENTO PREVIO A NO SER DE QUE HAYA INICIADO EL TEST POR PRIMERA VEZ
if (datostest[0].eliminaracertadas=="si"){
	

	puntuacion=0;
	// if(doLMSGetValue("cmi.core.score.raw")==""){
	// 	puntuacion=0;
	// }
	// else{
	// 	puntuacion=parseFloat(doLMSGetValue("cmi.core.score.raw"));
	// }
}
//SI NO QUIERO ELIMINAR LAS PREGUNTAS ACERTADAS DEL TEST EN LOS SIGUIENTES INTENTOS LA PUNTUACION SERÁ DE 0
else{
	puntuacion=0;
}

var opcionseleccionada;
var intentosrealizados;
var paginastotales=datostest[0].numeropreguntas+2;
var ultimapagina;

arrayopcionseleccionada=[];

//FUNCIÓN PARA CONTAR EL TIEMPO TOTAL QUE ESTOY DENTRO DEL TEST
var timeinseconds=0;


//FUNCIÓN PARA CONTAR EL TIEMPO QUE ESTOY DENTRO DE LAS PREGUNTAS
var timeinsecondstest=0;
var tiempotest=0;
//FUNCIÓN PARA INTRODUCIR LAS RESPUESTAS DEL ALUMNO EN LA BASE DE DATOS
arrayopcionesintento=[];
var volverAtras;
var falladasActivas = true;
var acertadasActivas = true;


function obtenerdatos(data){

    _localLocation = doLMSGetValue("cmi.suspend_data");
    
    //SI SE ACABA DE EMPEZAR EL CURSO
    if (_localLocation == "") {
            doLMSSetValue('cmi.suspend_data', 'intentosrealizados='+0+'||preguntasacertadas=');
            _localLocation = doLMSGetValue("cmi.suspend_data");
        }

   // console.log(_localLocation);
    resultado=_localLocation.split("||");

    switch (data) {

            case "intentosrealizados":
                parte1=resultado[0]; //Devuelve el número de intentos realizados por el alumno
                intentosrealizados=(parte1.split("="))[1];
                return parseInt(intentosrealizados);
                break;

            case "preguntasacertadas":
	            parte1=resultado[1]; //Devuelve una cadena con las preguntas acertadas por el alumno
	            preguntasacertadas=(parte1.split("="))[1];
	            return preguntasacertadas;
	            break;

            default:
                //
                // Default
                //
                break;

                
        }
}

/* 
** Function: cargarPagina();
** Description: Función para cuando se carga la página del test, al entrar en él
============================================================================= */

function cargarPagina(){


	//INICIO EL LMS
	var resultado=doLMSInitialize();
	
	//PARA VER EN LA CONSOLA LAS PREGUNTAS QUE HAN SALIDO EN EL ULTIMO INTENTO CON LA OPCIÓN SELECCIONADA POR EL ALUMNO

	//verRespuestas();
	

	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	//SI EL NÚMERO DE INTENTOS REALIZADOS ES DE 1, CON ESTE CÓDIGO HACEMOS QUE NO SE REPITA NINGUNA PREGUNTA DEL PRIMER INTENTO

	// pospreguntasprimerintento=[];

	// if(obtenerdatos("intentosrealizados")==1 && datostest[0].repeticionpreguntas=="no"){
	// 	for(i=0; i<datostest[0].numeropreguntas; i++){
	// 		numpreguntayrespuesta=doLMSGetValue("cmi.objectives."+i+".id");
	// 		numpreguntayrespuesta=numpreguntayrespuesta.split('_');
	// 		numpregunta=numpreguntayrespuesta[0];
	// 		posicionnumpregunta=numpregunta-1;
	// 		pospreguntasprimerintento.push(posicionnumpregunta);
	// 	}
	// 	for(i=0; i< datostest[0].numeropreguntas; i++){
	// 		//ELIMINO DEL ARRAY DE LA BATERIA DE PREGUNTAS LAS QUE YA HAN SALIDO EN EL INTENTO INICIAL
	// 		delete datos[pospreguntasprimerintento[i]];
	// 	}
	// }


	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	



	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////////////
	//SI SE QUIERE QUE SOLO SALGAN EN EL SIGUIENTE INTENTO LAS PREGUNTAS QUE HE FALLADO Y NO TODAS LAS PREGUNTAS
	// SE ELIMINAN LAS PREGUNTAS QUE VA ACERTANDO CUANDO ESTOY EN EL SIGUIENTE INTENTO
	if (datostest[0].eliminaracertadas=="si"){
		posPreguntasAcertadas=obtenerdatos("preguntasacertadas").split("_");
		for(i=0; i<posPreguntasAcertadas.length; i++){
			//ELIMINO DEL ARRAY DE LA BATERIA DE PREGUNTAS LAS QUE YA HAN SALIDO EN EL INTENTO ANTERIOR
			delete datos[posPreguntasAcertadas[i]];
		}
	}


	

	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////////////////////////

	estado=doLMSGetValue("cmi.core.lesson_status");

	if (estado=="not attempted"){
		doLMSSetValue("cmi.core.lesson_status", "incomplete");
	}

	if (doLMSGetValue("cmi.core.total_time")=="00:00:00.00"){
		doLMSSetValue("cmi.core.lesson_status", "incomplete");
	}

	//EMPIEZO A CONTAR EL TIEMPO DE LA SESIÓN
	contarTiempo();
	
	//CARGO EL CONTENIDO 1.HTML
	intentosrealizados=obtenerdatos("intentosrealizados");
	nota=doLMSGetValue("cmi.core.score.raw");
	tiempo=doLMSGetValue("cmi.core.total_time");
	
	numPaginas();
	colocarPaginado();
	mostrarProgreso();

	//SI EL ESTADO DEL TEST ES NO COMPLETADO (ES DECIR QUE TODAVÍA NO HA APROBADO, HAY DOS OPCIONES)
	if (estado=="incomplete" || estado=="not attempted" || estado=="failed"){

		$('h2').html(txtTituloTest);
		$('h3').html("");
		//SI EL NÚMERO DE VECES QUE HA SUSPENDIDO ES IGUAL O SUPERA AL NUMERO DE INTENTOS PERMITIDOS, ME CARGA UN MENSAJE DONDE DIRÁ QUE SE PONGA EN CONTACTO CON EL TUTOR PARA CONSEGUIR MAS INTENTOS
		if (intentosrealizados>=datostest[0].numerointentos){
			$('.test').html('<div id="resultado"><h1>'+pantallaFinalTest[0].mensajefinal+'</h1><span>'+nota+" %"+'</span><p>'+pantallaFinalTest[0].nointentos+'</p></div><div id="botones" style="text-align:center">    <input class="btn btn-default btn btn-bureau btn-md" type="submit" id="btn-revisarpreguntas" value="Resultado del test" onclick="resultadostestalu()" style="display: inline-block"></div>');
			
			//PONGO EL BOTÓN DE SIGUIENTE INACTIVO
			$("#btn-next").removeClass("btn-next");
			$("#btn-next").addClass("btn-next-inactive");
			$("#btn-next-mobile").removeClass("btn-next");
			$("#btn-next-mobile").addClass("btn-next-inactive");
			
		}

		//SI TODAVIA NO HA LLEGADO AL MÁXIMO NÚMERO DE INTENTOS ME DEJA HACER EL TEST
		else{
			//Si esta en el segundo intento, borro las 5 primeras preguntas.
			/*if(intentosrealizados==0){*/
                $('.contenedor-unidad').load('../test/001.html');
            /*} else */if(intentosrealizados>0){
                //$('.contenedor-unidad').load('../test/002.html');
				datos.splice(0,5);
				//console.log(datos);
			}
			//DESORDENO MI ARRAY DE PREGUNTAS Y RESPUESTAS
			//datos.sort(function() {return Math.random() - 0.5});
		}
	}
	

	//SI EL ESTADO DEL CURSO ES COMPLETADO (EL ALUMNO HA APROBADO EL TEST, LE APARECERÁ LA PANTALLA CON EL PORCENTAJE DE SU NOTA)

	if (estado=="completed"){
		$('h2').html("");
		$('h3').html("");
		$('.test').html('<div id="resultado"><h1>'+pantallaFinalTest[0].mensajefinal+'</h1><span>'+nota+" %"+'</span><p>'+pantallaFinalTest[0].aprobado+'</p></div><div class="col-xs-12 wow swing" data-wow-duration="4s" data-wow-delay="0s"><div clas="col-xs-12 col-sm-6 col-lg-4 col-center"><img src="img/medalla.svg" class="img60 hidden-sm hidden-xs img-responsive center-block"><img src="img/medalla.svg"  class="img60 visible-sm visible-xs img-responsive center-block"></div><div id="botones" style="text-align:center">    <input class="btn btn-default btn btn-bureau btn-md" type="submit" id="btn-revisarpreguntas" value="Resultado del test" onclick="resultadostestalu()" style="display: inline-block"></div>');

		//PONGO EL BOTÓN DE SIGUIENTE INACTIVO

		$("#btn-next").removeClass("btn-next");
		$("#btn-next").addClass("btn-next-inactive");
		$("#btn-next-mobile").removeClass("btn-next");
		$("#btn-next-mobile").addClass("btn-next-inactive");
	}
	
	
}



//FUNCIÓN PARA EL BOTÓN DE SIGUIENTE DIAPOSITIVA

function avanzar(){

	//EJECUTO LA FUNCIÓN QUE ME SACA EL NÚMERO DE PÁGINAS QUE TIENE EL TEST
	numPaginas();

	/////////////////////////////////////////////////////////
	
	//SI EL BOTON DE SIGUIENTE (VERSIÓN MOVIL Y VERSIÓN ESCRITORIO) NO TIENE LA CLASE INACTIVO ENTRA AQUÍ DENTRO
	if ($("#btn-next").hasClass("btn-next-inactive")==false || $("#btn-next-mobile").hasClass("btn-next-inactive")==false){

		contador++;	

		//CUANDO ENTRA EN LA PRIMERA PREGUNTA DEL TEST:
		if (contador==1){

			//FUNCIÓN QUE ME SIRVE PARA PONER EN MARCHA EL CRONÓMETRO AL ENTRAR EN LA PRIMERA PREGUNTA
			myVar = setInterval(function(){ contarTiempoTest() }, 1000);

			//CARGO LA FUNCIÓN QUE HACE QUE SE RECARGUE LA PÁGINA Y QUITE UN INTENTO AL ALUMNO CUANDO SE HA PASADO EL TIEMPO DE REALIZACIÓN DEL TEST
			myVar2 = setInterval(function(){ suspenderporTiempo() }, 1000);
		}

		
		if(contador==datostest[0].numeropreguntas+1){
			$("#cronometrotest").css("display", "none");
		}

		// M O S T R A R    U    O C U L T A R    E L    C R O N O M E T R O    D E L    T E S T 

		if (contador==1 && datostest[0].mostrarcronometrotest=="si"){
			$("#cronometrotest").html("00:00");
		}
		
		
		//PARA SABER EL VALOR EN PUNTOS SOBRE 100 DE LA PREGUNTA QUE VOY A RESOLVER
		
		puntospregunta=(100/(datostest[0].numeropreguntas)).toFixed(2);;				
		//ESCONDEMOS LA PÁGINA DE INICIO CUANDO LE DAMOS AL BOTÓN DE AVANZAR
		$("#paginainicio").css("display", "none");

		

		
		//Pintamos el número de la pregunta
		$('h2').html(txtPregunta +" "+contador +" "+ de +" "+ (paginastotales-2));

		//Pintamos el número de intento en el que se encuentra el alumno si lo queremos mostrar
		if (datostest[0].mostrarintento=="si"){
			$('h3').html( txtIntento +" "+ (parseInt(obtenerdatos("intentosrealizados"))+1) +" "+ de +" "+ datostest[0].numerointentos);
		}
		//Si no se quiere mostrar el intento por el que va el alumno entraría aquí
		else if (datostest[0].mostrarintento=="no"){
		}
		
		//Si estoy en la última página del test oculto el tema y el subtema
		if(contador==ultimapagina){
			$('h2').html("");
			//Pintamos
			$('h3').html("");
		}

		if (datos[contador-1]!=undefined){
			$("#pregunta").html(datos[contador-1].pregunta)
			pintarOpciones();
		}

		$("#btn-next").removeClass("btn-next");
		$("#btn-next").addClass("btn-next-inactive");
		$("#btn-next-mobile").removeClass("btn-next");
		$("#btn-next-mobile").addClass("btn-next-inactive");

		sumarPuntos();
		$(".listarespuestas label").on("click", corregirPregunta);
		corregirPregunta();
		introducirRespuestas();
		aprobadoSuspenso();
		colocarPaginado();
		mostrarRepetirTest();
		mostrarRevisarPreguntas();
		mostrarProgreso();
	}
}
//PARA QUE EL ALUMNO PUEDA PASAR LAS PÁGINAS CUANDO PULSA LAS FLECHAS DEL TECLADO DE DERECHA E IZQUIERDA
/* 
	** Function: avanzarRetrocederTeclado();
	** Description: Esta función avanza o retrocede página pulsando las flechas del teclado de derecha e izquierda.
	============================================================================= */
function avanzarRetrocederTeclado(){
	$(document).keydown(function(e) {
		//Cuando pulsa en la flecha de ir a la izquierda retrocede una página del curso
	    if(e.keyCode==37){
	    	retroceder();
	    }
	    //Cuando pulsa en la flecha de ir a la derecha avanza una página del curso
	    else if(e.keyCode==39){
	    	avanzar();
	    }
	});
}
avanzarRetrocederTeclado();


//FUNCIÓN QUE SE EJECUTA SI CIERRA LA VENTANA 
function cerrarventana(){
	//GUARDO EL TIEMPO DE LA SESION
	guardarTiempo();

	//FINALIZO EL LMS SIEMPRE AL CERRAR VENTANA
	doLMSFinish();
	
}




//PARA PINTAR LAS OPCIONES DE CADA PREGUNTA DEL TEST
function pintarOpciones(){
	$(".listarespuestas").html("");
	for (i=0; i<datos[contador-1].opciones.length; i++){
		$(".listarespuestas").append('<li><input id="r0_'+i+'" name="key1" value="'+datos[contador-1].opciones[i]+'" class="boton" type="radio"><label for="r0_'+i+'" class="txtRespuesta">'+datos[contador-1].opciones[i]+'</label></li>')
	}
}


function corregirPregunta(){
	if ($(this).siblings().val()!=undefined){
		//PARA SABER LA OPCIÓN QUE HE SELECCIONADO (AL SELECCIONAR UNA OPCIÓN SE ME PONDRÁ EL BOTON DE SIGUIENTE EN ACTIVO)
		opcionseleccionada=$(this).siblings().val();
		posicionopcionseleccionada=($(this).siblings().attr("id"));
		$("#btn-next").removeClass("btn-next-inactive");
		$("#btn-next").addClass("btn-next");
		$("#btn-next-mobile").removeClass("btn-next-inactive");
		$("#btn-next-mobile").addClass("btn-next");
	}

}

arrayopcionseleccionada=[];
function sumarPuntos(){
	//ME SACA LA RESPUESTA CORRECTA
	if (datos[contador-2]!=undefined){
		respcorrecta=datos[contador-2].correcta;
		arrayopcionseleccionada.push(opcionseleccionada);

		//SI LA OPCIÓN QUE HE SELECCIONADO ES CORRECTA ENTRA AQUÍ Y SUMA PUNTOS A LA NOTA FINAL
		if (opcionseleccionada==respcorrecta){
			puntuacion+=parseFloat(puntospregunta);		
		}
		
		//SI ES INCORRECTA ENTRA AQUÍ Y NO SUMA PUNTOS A LA NOTA FINAL
		else{
			puntuacion+=0;
		}		
	}	 

}

//FUNCIÓN QUE ME DICE SI HE APROBADO O HE SUSPENDIDO EL TEST Y QUE SE EJECUTA CUANDO LLEGO A LA DIAPOSITIVA DONDE ME MUESTRA LA NOTA FINAL



function aprobadoSuspenso(){

	if (contador==ultimapagina){

		//Guardo en una variable la puntuación del test en decimales para luego almacenarla en suspend data
		puntuaciondecimal=puntuacion;		
		//Redondeo la puntuación para poder introducirla como número entero en la nota del alumno
				
		puntuacion=Math.round(puntuacion);

		//si tiene contestadas todas las preguntas redondeamos hacia arriba
		if(puntuacion>100)
		{
		 puntuacion=Math.floor(puntuacion);
		}
		$("#numpregunta").html("");
		$("#pregunta").html("");
		$(".listarespuestas").html("");


		doLMSSetValue("cmi.core.score.raw", puntuacion);
		doLMSSetValue("cmi.core.score.min", 0);
		doLMSSetValue("cmi.core.score.max", 100);	

		//NOTA NECESARIA PARA APROBAR EL TEST
		notacorte = datostest[0].aprobadonota;

		//Recojo en un string separado por "_" la posición de las preguntas falladas
		stringAcertadas=obtenerdatos("preguntasacertadas");
		for (i=0; i<datos.length; i++){
			if(datos[i]!=undefined){
				//guardamos los valores del scorm				
			doLMSSetValue("cmi.interactions."+i+".id", "pregunta_"+datos[i].numpregunta);
			doLMSSetValue("cmi.interactions."+i+".type", "choice");
			doLMSSetValue("cmi.interactions."+i+".objectives.0.id", "Quiz_pregunta");	
				//le asignamos un número a cada respuesta para facilitar el guardarlo
					var resultado_pregunta="";
					if(datos[i].opciones[0]==datos[i].correcta)
					{
						resultado_pregunta="0";
					}
					if(datos[i].opciones[1]==datos[i].correcta)
					{
						resultado_pregunta="1";
					}
					if(datos[i].opciones[2]==datos[i].correcta)
					{
						resultado_pregunta="2";
					}
					//respuesta del alumno
					var resultado_alumno="";
					if(datos[i].opciones[0]==arrayopcionseleccionada[i])
					{
						resultado_alumno="0";
					}
					if(datos[i].opciones[1]==arrayopcionseleccionada[i])
					{
						resultado_alumno="1";
					}
					if(datos[i].opciones[2]==arrayopcionseleccionada[i])
					{
						resultado_alumno="2";
					}			
					//guardamos datos de la interación		
					doLMSSetValue("cmi.interactions."+i+".correct_responses.0.pattern", resultado_pregunta);	
					doLMSSetValue("cmi.interactions."+i+".student_response", resultado_alumno);	
                    doLMSSetValue("cmi.objectives."+i+".id", datos[i].numpregunta+"_"+resultado_alumno);
					//guardamos si es correcta la pregunta o no
				if (datos[i].correcta==arrayopcionseleccionada[i]){					
					stringAcertadas+="_"+(datos[i].numpregunta-1).toString();
					doLMSSetValue("cmi.interactions."+i+".result", "correct");	
				}
				else
				{
					doLMSSetValue("cmi.interactions."+i+".result", "wrong");	
				}				
				

			}
		}

		//SI APRUEBA
		if (puntuacion>=notacorte){
			$("#resultado p").html(pantallaFinalTest[0].aprobado);
			$('#resultado div').html('<div class="col-xs-12 wow swing" data-wow-duration="4s" data-wow-delay="0s"><div clas="col-xs-12 col-sm-6 col-lg-4 col-center"><img src="img/medalla.svg" class="img60 hidden-sm hidden-xs img-responsive center-block"><img src="img/medalla.svg"  class="img60 visible-sm visible-xs img-responsive center-block"></div>');
			new WOW().init();
			doLMSSetValue("cmi.core.lesson_status", "completed");
			doLMSSetValue('cmi.suspend_data', 'intentosrealizados='+(obtenerdatos("intentosrealizados")+1)+'||preguntasacertadas='+stringAcertadas);
			
		}
		//SI SUSPENDE SE LE SUMA UN INTENTO REALIZADO
		else{
			$("#resultado p").html(pantallaFinalTest[0].suspenso);
			doLMSSetValue('cmi.suspend_data', 'intentosrealizados='+(obtenerdatos("intentosrealizados")+1)+'||preguntasacertadas='+stringAcertadas);
			doLMSSetValue("cmi.core.lesson_status", "failed");
			
		}

		
		

		$("#resultado span").html(puntuacion+" %")
		$("#resultado h1").html(pantallaFinalTest[0].mensajefinal);


		/*for (i=0; i<arrayopcionesintento.length; i++){
			//cargamos las preguntas para que queden registradas							
			//doLMSSetValue("cmi.objectives."+i+".id", arrayopcionesintento[i]);
		}*/
	}
	doLMSCommit();//guardamos en la base de datos
}



//FUNCIÓN PARA COLOCAR EL PAGINADO
function colocarPaginado(){

	if (paginastotales<10){
		paginastotalespaginado="0"+paginastotales;
	}

	else{
		paginastotalespaginado=paginastotales;
	}

	paginaactual=contador+1;

	if (paginaactual<10){
		paginaactualpaginado="0"+paginaactual;
	}

	else{
		paginaactualpaginado=paginaactual;
	}


	//SI HE APROBADO O EL NÚMERO DE INTENTOS REALIZADOS ES IGUAL AL MÁXIMO NUMERO DE INTENTOS QUE SE TIENE,
	//SALTARA A LA ÚLTIMA PANTALLA DEL CURSO DONDE ME DICE LA NOTA EN PORCENTAJE

	if (intentosrealizados>=datostest[0].numerointentos || estado=="completed"){
		$(".page-num").html(paginastotalespaginado+"/"+paginastotalespaginado);
	}

	else{

		$(".page-num").html(paginaactualpaginado+"/"+paginastotalespaginado);
	}

}

//FUNCIÓN PARA CONTAR EL TIEMPO TOTAL QUE ESTOY DENTRO DEL TEST

function contarTiempo(){
	setInterval(function(){ 
		timeinseconds=timeinseconds+1;

		horasdecimal=(timeinseconds/3600);
		horas=Math.floor(horasdecimal);

		minutosdecimal=(timeinseconds/60);
		minutostotales=Math.floor(minutosdecimal);
		minutos=minutostotales-(horas*60);
		
		segundos=timeinseconds-(horas*3600)-(minutos*60);
		

		if(minutos<10){
			minutosformato="0"+minutos;
		}
		else{
			minutosformato=minutos;
		}

		if(segundos<10){
			segundosformato="0"+segundos;
		}
		else{
			segundosformato=segundos;
		}

		if(horas<10){
			horasformato="000"+horas;
		}
		else if (horas>=10 && horas<100){
			horasformato="00"+horas;
		}
		else if (horas>=100 && horas<1000){
			horasformato="0"+horas;
		}
		else if (horas>=1000 && horas<10000){
			horasformato=horas;
		}
		cronometro=horasformato+":"+minutosformato+":"+segundosformato;
	}, 1000);

}



//FUNCIÓN PARA CONTAR EL TIEMPO QUE ESTOY DENTRO DE LAS PREGUNTAS
function contarTiempoTest(){

				timeinsecondstest=timeinsecondstest+1;

				horasdecimal=(timeinsecondstest/3600);
				horas=Math.floor(horasdecimal);

				minutosdecimal=(timeinsecondstest/60);
				minutostotales=Math.floor(minutosdecimal);
				minutos=minutostotales-(horas*60);
				
				segundos=timeinsecondstest-(horas*3600)-(minutos*60);
				

				if(minutos<10){
					minutosformato="0"+minutos;
				}
				else{
					minutosformato=minutos;
				}

				if(segundos<10){
					segundosformato="0"+segundos;
				}
				else{
					segundosformato=segundos;
				}

				if(horas<10){
					horasformato="000"+horas;
				}
				else if (horas>=10 && horas<100){
					horasformato="00"+horas;
				}
				else if (horas>=100 && horas<1000){
					horasformato="0"+horas;
				}
				else if (horas>=1000 && horas<10000){
					horasformato=horas;
				}
				crono=minutosformato+":"+segundosformato;
				if (datostest[0].mostrarcronometrotest=="si"){
					$("#cronometrotest").html(crono)
				}
}



function guardarTiempo(){
	
		//GUARDO EL TIEMPO DE LA SESIÓN SI AÚN NO HE APROBADO EL EXAMEN EL CUÁL SE IRÁ ACUMULANDO EN EL TIEMPO TOTAL DEL TEST
		/*if (estado=="incomplete"){
			doLMSSetValue("cmi.core.session_time", cronometro);
		}*/
}


function suspenderporTiempo(){
	

		//SI NO HE APROBADO AÚN EL EXAMEN, ME QUEDAN INTENTOS Y EL TIEMPO LÍMITE PARA REALIZAR EL TEST SE HA SOBREPASADO, PIERDO UN INTENTO Y MI NOTA SERÁ DE 0

		if ((estado=="incomplete" || estado=="not attempted") && intentosrealizados<datostest[0].numerointentos && contador!=0 && contador!=datostest[0].numeropreguntas+1){
			tiempotest++
			duraciontest=datostest[0].duraciontestsegundos;
		
			if (tiempotest==duraciontest){
				doLMSSetValue('cmi.suspend_data', 'intentosrealizados='+(obtenerdatos("intentosrealizados")+1)+'||');
				doLMSSetValue("cmi.core.score.raw", "0");
				window.top.location.reload(); 
			}
		}	
			
}

//SI SUSPENDE EL TEST Y ESTOY EN LA ÚLTIMA DIAPOSITIVA MUESTRO EL BOTON DE REPETIR TEST O EL BOTON DE CERRAR Y REPETIR TEST EN EL CASO DE QUE ESTÉ EN LA PLATAFORMA DE CORNERSTONE
function mostrarRepetirTest(){
	notacorte = datostest[0].aprobadonota;
	
	if (datostest[0].eliminaracertadas=="si"){
		if(puntuacion<notacorte && contador==datostest[0].numeropreguntas-numPreguntasAcertadas+1 && obtenerdatos("intentosrealizados")<datostest[0].numerointentos){
			$("#btn-repetirtest").css("display", "inline-block")
		}
		else{
			$("#btn-repetirtest").css("display", "none");
			$("#btn-cerrartest").css("display", "none");
		}
	}

	else{
		if (puntuacion<notacorte && contador==datostest[0].numeropreguntas+1 && obtenerdatos("intentosrealizados")<datostest[0].numerointentos){
			$("#btn-repetirtest").css("display", "inline-block")
		}
		else{
			$("#btn-repetirtest").css("display", "none");
			$("#btn-cerrartest").css("display", "none");
		}
	}
}

//FUNCION QUE SE EJECUTA CUANDO LE DOY AL BOTON DE REPETIR TEST
function repetirTest(){

inicializacion();
	//progresoTest=0;
	//PONGO EL BOTÓN DE SIGUIENTE ACTIVO
	$("#btn-next").addClass("btn-next");
	$("#btn-next").removeClass("btn-next-inactive");
	$("#btn-next-mobile").addClass("btn-next");
	$("#btn-next-mobile").removeClass("btn-next-inactive");
	//paginaactual=1;
	
	cargar();	
	//window.top.location.reload(); 
}

//FUNCIÓN PARA INTRODUCIR LAS RESPUESTAS DEL ALUMNO EN LA BASE DE DATOS
function introducirRespuestas(){
	
	if (contador!=1){
		posicionopcionseleccionada=posicionopcionseleccionada.replace("_","");
		posicionopcionseleccionada=posicionopcionseleccionada.replace("r0","__respuestaseleccionada_");
		numpregunta=datos[contador-2].numpregunta;
		//doLMSSetValue("cmi.objectives."+(contador-2)+".id", numpregunta+posicionopcionseleccionada);

		arrayopcionesintento.push(numpregunta+posicionopcionseleccionada);
	}
}


//FUNCIÓN PARA MOSTRAR EL PROGRESO DEL TEST EN LA BARRA DE PROGRESO

function mostrarProgreso(){
	
	if (datostest[0].eliminaracertadas=="si"){
		progresoTest=parseInt((contador/(datostest[0].numeropreguntas-numPreguntasAcertadas+1))*100);
	}
	else{
		progresoTest=parseInt((contador/(datostest[0].numeropreguntas+1))*100);
	}
	
	$(".progreso").css("width", progresoTest+"%");


	//PARA QUE LA BARRA DE CARGA SE CARGUE AL MÁXIMO SI EL TEST HA SIDO APROBADO
	if (doLMSGetValue("cmi.core.lesson_status")=="completed"){
		$(".progreso").css("width", "100%");
	}
}



//FUNCIÓN PARA QUE APAREZCA EL BOTÓN DE REVISAR PREGUNTAS

function mostrarRevisarPreguntas(){

	/////////////////////////////////////
	if (datostest[0].eliminaracertadas=="si"){
		if(contador==datostest[0].numeropreguntas-numPreguntasAcertadas+1 && datostest[0].mostrarrevisionpreguntas=="si"){
			$("#btn-revisarpreguntas").css("display", "inline-block")
		}
		else{
			$("#btn-revisarpreguntas").css("display", "none")
		}
	}

	else{
		if (contador==datostest[0].numeropreguntas+1 && datostest[0].mostrarrevisionpreguntas=="si"){
			$("#btn-revisarpreguntas").css("display", "inline-block")
		}
		else{
			$("#btn-revisarpreguntas").css("display", "none")
		}
	}
}

//FUNCIÓN QUE ME SIRVE PARA MOSTRAR LAS PREGUNTAS DEL TEST Y LO QUE SE HA CONTESTADO CUANDO LE DOY AL BOTÓN DE REVISAR PREGUNTAS, UNA VEZ FINALIZADO EL TEST

function revisarPreguntas(){
	$("#resultado").css("display", "none");
	$("#btn-revisarpreguntas").css("display", "none");
	$("#btn-repetirtest").css("display", "none");
	$("#btn-cerrartest").css("display", "none");
	$("#resultados-test").css("display", "block");
	//$("#accordion").html("");
	for(i=0;i<datostest[0].numeropreguntas;i++){
		

		//SI HE ACERTADO LA PREGUNTA ENTRA AQUÍ
		///////////////////////////////////////
		///////////////////////////////////////
		///////////////////////////////////////
		
		if (datos[i]!=undefined){
			if (datos[i].correcta==arrayopcionseleccionada[i]){
				//console.log("preguntas: "+datos[i].pregunta);
				//console.log("correcta: "+datos[i].correcta);
				//console.log("ACERTADA");
				//console.log("seleccionada: "+arrayopcionseleccionada[i]);
				$("#accordion").append('<div class="panel panel-default accordion-group"><div class="box resultado correcto"><svg style="padding-right: 0px !important; cursor:pointer" class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[i]+'" aria-expanded="false" class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape1" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg></div><div class="accordion-heading"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[i]+'" aria-expanded="false"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="add" fill="#000000"><path d="M17.5,0.14957265 C7.92735043,0.14957265 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.8974359,34.8504274 17.5,34.8504274 C27.0726496,34.8504274 34.8504274,27.0726496 34.8504274,17.5 C34.8504274,7.92735043 27.0726496,0.14957265 17.5,0.14957265 L17.5,0.14957265 L17.5,0.14957265 Z M17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 L17.5,32.4273504 L17.5,32.4273504 Z" id="circle"></path><path d="M18.7264957,9.33333333 C18.7264957,8.64529915 18.1880342,8.10683761 17.5,8.10683761 C16.8119658,8.10683761 16.2735043,8.64529915 16.2735043,9.33333333 L16.2735043,25.3076923 C16.2735043,25.9957265 16.8119658,26.534188 17.5,26.534188 C18.1880342,26.534188 18.7264957,25.9957265 18.7264957,25.3076923 L18.7264957,9.33333333 Z" id="more"></path><path d="M9.51282051,16.0940171 C8.82478632,16.0940171 8.28632479,16.6324786 8.28632479,17.3205128 C8.28632479,18.008547 8.82478632,18.5470085 9.51282051,18.5470085 L25.4871795,18.5470085 C26.1752137,18.5470085 26.7136752,18.008547 26.7136752,17.3205128 C26.7136752,16.6324786 26.1752137,16.1239316 25.4871795,16.1239316 L9.51282051,16.0940171 Z" id="less"></path></g></svg><div class="textopregunta">'+datos[i].pregunta+'</div></a></div><div id="collapse_'+[i]+'" class="collapse" aria-expanded="false"><div class="panel-body"><ul class="listadoRespuestas" data-id="'+[i]+'"></ul></div></div></div>');
				
				

				//PARA PINTAR LAS OPCIONES DE CADA PREGUNTA CUANDO LA PREGUNTA SE HA ACERTADO
				for(k=0;k<datos[i].opciones.length;k++){
					
					
					//SI LA OPCIÓN ES UNA OPCIÓN CORRECTA PINTO EL ICONO VERDE DEL CHECK
					if (datos[i].correcta==datos[i].opciones[k]){
						$(".listadoRespuestas[data-id='"+[i]+"']").append('<li><input type="radio" name="pregunta'+[i]+'" value="'+datos[i].opciones[k]+'" disabled><label>'+datos[i].opciones[k]+'</label><div class="box resultado correcto"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape1" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg></div></li>')
						//SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
						if(arrayopcionseleccionada[i]==$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].value){
							$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].setAttribute("checked", true);
						}
					}
					//SI LA OPCIÓN ES UNA OPCIÓN INCORRECTA PINTO LA CRUZ ROJA DE FALLO
					else{
						$(".listadoRespuestas[data-id='"+[i]+"']").append('<li><input type="radio" name="pregunta'+[i]+'" value="'+datos[i].opciones[k]+'" disabled><label>'+datos[i].opciones[k]+'</label></li>');
						//SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
						if(arrayopcionseleccionada[i]==$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].value){
							$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].setAttribute("checked", true);
						}
					}
				}
			}
			//SI HE FALLADO LA PREGUNTA ENTRA AQUÍ
			///////////////////////////////////////
			///////////////////////////////////////
			///////////////////////////////////////
			else{
				//console.log("preguntas: "+datos[i].pregunta);
				//console.log("correcta: "+datos[i].correcta);
				//console.log("FALLADA");
				//console.log("seleccionada: "+arrayopcionseleccionada[i]);
				$("#accordion").append('<div class="panel panel-default accordion-group"><div class="box resultado incorrecto"><svg style="padding-right: 0px !important; cursor:pointer" class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[i]+'" aria-expanded="false" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="cancel-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.0726496,0.11965812 17.5,0.11965812 C7.92735043,0.11965812 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M10.9786325,23.8418803 C11.2179487,24.0811966 11.517094,24.2008547 11.8461538,24.2008547 C12.1752137,24.2008547 12.474359,24.0811966 12.7136752,23.8418803 L17.5,19.0555556 L22.2863248,23.8418803 C22.525641,24.0811966 22.8247863,24.2008547 23.1538462,24.2008547 C23.482906,24.2008547 23.7820513,24.0811966 24.0213675,23.8418803 C24.5,23.3632479 24.5,22.5854701 24.0213675,22.1068376 L19.2350427,17.3205128 L24.0213675,12.534188 C24.5,12.0555556 24.5,11.2777778 24.0213675,10.7991453 C23.542735,10.3205128 22.7649573,10.3205128 22.2863248,10.7991453 L17.5,15.5854701 L12.7136752,10.7991453 C12.2350427,10.3205128 11.457265,10.3205128 10.9786325,10.7991453 C10.5,11.2777778 10.5,12.0555556 10.9786325,12.534188 L15.7649573,17.3205128 L10.9786325,22.1068376 C10.5,22.5854701 10.5,23.3632479 10.9786325,23.8418803 L10.9786325,23.8418803 Z" id="Shape1"></path></g></svg></div><div class="accordion-heading"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[i]+'" aria-expanded="false"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="add" fill="#000000"><path d="M17.5,0.14957265 C7.92735043,0.14957265 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.8974359,34.8504274 17.5,34.8504274 C27.0726496,34.8504274 34.8504274,27.0726496 34.8504274,17.5 C34.8504274,7.92735043 27.0726496,0.14957265 17.5,0.14957265 L17.5,0.14957265 L17.5,0.14957265 Z M17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 L17.5,32.4273504 L17.5,32.4273504 Z" id="circle"></path><path d="M18.7264957,9.33333333 C18.7264957,8.64529915 18.1880342,8.10683761 17.5,8.10683761 C16.8119658,8.10683761 16.2735043,8.64529915 16.2735043,9.33333333 L16.2735043,25.3076923 C16.2735043,25.9957265 16.8119658,26.534188 17.5,26.534188 C18.1880342,26.534188 18.7264957,25.9957265 18.7264957,25.3076923 L18.7264957,9.33333333 Z" id="more"></path><path d="M9.51282051,16.0940171 C8.82478632,16.0940171 8.28632479,16.6324786 8.28632479,17.3205128 C8.28632479,18.008547 8.82478632,18.5470085 9.51282051,18.5470085 L25.4871795,18.5470085 C26.1752137,18.5470085 26.7136752,18.008547 26.7136752,17.3205128 C26.7136752,16.6324786 26.1752137,16.1239316 25.4871795,16.1239316 L9.51282051,16.0940171 Z" id="less"></path></g></svg><div class="textopregunta">'+datos[i].pregunta+'</div></a></div><div id="collapse_'+[i]+'" class="collapse" aria-expanded="false"><div class="panel-body"><ul class="listadoRespuestas" data-id="'+[i]+'"></ul></div></div></div>');
				for(k=0;k<datos[i].opciones.length;k++){
					
					//SI LA OPCIÓN ES UNA OPCIÓN CORRECTA PINTO EL ICONO VERDE DEL CHECK
					if (datos[i].correcta==datos[i].opciones[k]){
						$(".listadoRespuestas[data-id='"+[i]+"']").append('<li><input type="radio" name="pregunta'+[i]+'" value="'+datos[i].opciones[k]+'" disabled><label>'+datos[i].opciones[k]+'</label><div class="box resultado correcto"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape1" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg></div></li>')
						
						//SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
						if(arrayopcionseleccionada[i]==$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].value){
							$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].setAttribute("checked", true);
						}
					}
					//SI LA OPCIÓN ES UNA OPCIÓN INCORRECTA PINTO LA CRUZ ROJA DE FALLO
					else{
						$(".listadoRespuestas[data-id='"+[i]+"']").append('<li><input type="radio" name="pregunta'+[i]+'" value="'+datos[i].opciones[k]+'" disabled><label>'+datos[i].opciones[k]+'</label><div class="box resultado incorrecto"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="cancel-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.0726496,0.11965812 17.5,0.11965812 C7.92735043,0.11965812 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M10.9786325,23.8418803 C11.2179487,24.0811966 11.517094,24.2008547 11.8461538,24.2008547 C12.1752137,24.2008547 12.474359,24.0811966 12.7136752,23.8418803 L17.5,19.0555556 L22.2863248,23.8418803 C22.525641,24.0811966 22.8247863,24.2008547 23.1538462,24.2008547 C23.482906,24.2008547 23.7820513,24.0811966 24.0213675,23.8418803 C24.5,23.3632479 24.5,22.5854701 24.0213675,22.1068376 L19.2350427,17.3205128 L24.0213675,12.534188 C24.5,12.0555556 24.5,11.2777778 24.0213675,10.7991453 C23.542735,10.3205128 22.7649573,10.3205128 22.2863248,10.7991453 L17.5,15.5854701 L12.7136752,10.7991453 C12.2350427,10.3205128 11.457265,10.3205128 10.9786325,10.7991453 C10.5,11.2777778 10.5,12.0555556 10.9786325,12.534188 L15.7649573,17.3205128 L10.9786325,22.1068376 C10.5,22.5854701 10.5,23.3632479 10.9786325,23.8418803 L10.9786325,23.8418803 Z" id="Shape1"></path></g></svg></div></li>');
				
						//SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
						if(arrayopcionseleccionada[i]==$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].value){
							$(".listadoRespuestas[data-id='"+[i]+"'] input")[k].setAttribute("checked", true);
						}
					}
				}	
			}
		}
		

		//PARA EL FEEDBACK DEL TEST
		if(datostest[0].feedback=="si"){

			//CREO UNA CAJA DIV DONDE IRÁ EL TEXTO DEL ENCABEZADO DEL FEEDBACK
			var headerfeedback = document.createElement("DIV");
			//AÑADO LA CLASE FEEDBACK A ESE DIV PARA DARLE ESTILOS
			headerfeedback.className = "headerfeedback";
			//INSERTO EL TEXTO DEL FEEDBACK DENTRO DE LA CAJA
		    var headerfeedbacktxt = document.createTextNode("Feedback:");
		    headerfeedback.appendChild(headerfeedbacktxt);


			//CREO UNA CAJA DIV DONDE IRÁ EL TEXTO DEL FEEDBACK
			var node = document.createElement("DIV");
			//AÑADO LA CLASE FEEDBACK A ESE DIV PARA DARLE ESTILOS
			node.className = "feedback";
			//INSERTO EL TEXTO DEL FEEDBACK DENTRO DE LA CAJA
		    var textnode = document.createTextNode(datos[i].feedback);
		    node.appendChild(textnode);


		    //INSERTO EL NODO DENTRO DE CADA PANEL BODY
		    $("#accordion .panel-body")[i].appendChild(headerfeedback);
			$("#accordion .panel-body")[i].appendChild(node);
		}
		
	}

	//PARA MOSTRAR LOS BOTONES DE MOSTRAR PREGUNTAS ACERTADAS Y FALLADAS
	$('.icon-falladas').css("display", "block");
	$('.icon-acertadas').css("display", "block");
	$('.icon-falladas').html($lupaWrongActive);
	$('.icon-acertadas').html($lupaOkActive);

	//PARA QUE SE ACTIVE EL BOTÓN DE IR ATRÁS EN EL TEST, PARA IR A LA PANTALLA DE RESULTADOS DEL TEST DONDE PONE EL PORCENTAJE DE NOTA

	$(".icon-prev").addClass("btn-prev");
	$(".icon-prev").removeClass("btn-prev-inactive");
	$(".btn-prev").on("click", volverResultado);
	volverResultado();
	volverAtras=true;
}

function resultadostestalu(){
    $('.contenedor-unidad').append('<div id="resultados-test"><h1>Resultado del test</h1><div id="accordion"></div></div>');
    $("#resultado").css("display", "none");
    $("#btn-revisarpreguntas").css("display", "none");
    $("#btn-repetirtest").css("display", "none");
    $("#btn-cerrartest").css("display", "none");
    $("#resultados-test").css("display", "block");
    for(i=0;i<datostest[0].numeropreguntas;i++){
        pregresp=doLMSGetValue("cmi.objectives."+i+".id");
        idpreg=(pregresp.split("_"))[0];
        resp=(pregresp.split("_"))[1];
        for(j=0;j<datos.length;j++){
            if(datos[j].numpregunta==idpreg)
            {
                textopreg=datos[j].pregunta;
                respalumno=datos[j].opciones[resp];
                correcta=datos[j].correcta;
                if (respalumno==correcta){
                    $("#accordion").append('<div class="panel panel-default accordion-group"><div class="box resultado correcto"><svg style="padding-right: 0px !important; cursor:pointer" class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[j]+'" aria-expanded="false" class="center-block" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape1" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg></div><div class="accordion-heading"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[j]+'" aria-expanded="false"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="add" fill="#000000"><path d="M17.5,0.14957265 C7.92735043,0.14957265 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.8974359,34.8504274 17.5,34.8504274 C27.0726496,34.8504274 34.8504274,27.0726496 34.8504274,17.5 C34.8504274,7.92735043 27.0726496,0.14957265 17.5,0.14957265 L17.5,0.14957265 L17.5,0.14957265 Z M17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 L17.5,32.4273504 L17.5,32.4273504 Z" id="circle"></path><path d="M18.7264957,9.33333333 C18.7264957,8.64529915 18.1880342,8.10683761 17.5,8.10683761 C16.8119658,8.10683761 16.2735043,8.64529915 16.2735043,9.33333333 L16.2735043,25.3076923 C16.2735043,25.9957265 16.8119658,26.534188 17.5,26.534188 C18.1880342,26.534188 18.7264957,25.9957265 18.7264957,25.3076923 L18.7264957,9.33333333 Z" id="more"></path><path d="M9.51282051,16.0940171 C8.82478632,16.0940171 8.28632479,16.6324786 8.28632479,17.3205128 C8.28632479,18.008547 8.82478632,18.5470085 9.51282051,18.5470085 L25.4871795,18.5470085 C26.1752137,18.5470085 26.7136752,18.008547 26.7136752,17.3205128 C26.7136752,16.6324786 26.1752137,16.1239316 25.4871795,16.1239316 L9.51282051,16.0940171 Z" id="less"></path></g></svg><div class="textopregunta">'+datos[j].pregunta+'</div></a></div><div id="collapse_'+[j]+'" class="collapse" aria-expanded="false"><div class="panel-body"><ul class="listadoRespuestas" data-id="'+[j]+'"></ul></div></div></div>');
                    //PARA PINTAR LAS OPCIONES DE CADA PREGUNTA CUANDO LA PREGUNTA SE HA ACERTADO
                    for(k=0;k<datos[j].opciones.length;k++){
                        //SI LA OPCIÓN ES UNA OPCIÓN CORRECTA PINTO EL ICONO VERDE DEL CHECK
                        if (datos[j].correcta==datos[j].opciones[k]){
                            $(".listadoRespuestas[data-id='"+[j]+"']").append('<li><input type="radio" name="pregunta'+[j]+'" value="'+datos[j].opciones[k]+'" disabled><label>'+datos[j].opciones[k]+'</label><div class="box resultado correcto"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape1" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg></div></li>')
                            //SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
                            if(k==resp){
                                $(".listadoRespuestas[data-id='"+[j]+"'] input")[k].setAttribute("checked", true);
                            }
                        }
                        //SI LA OPCIÓN ES UNA OPCIÓN INCORRECTA PINTO LA CRUZ ROJA DE FALLO
                        else{
                            $(".listadoRespuestas[data-id='"+[j]+"']").append('<li><input type="radio" name="pregunta'+[j]+'" value="'+datos[j].opciones[k]+'" disabled><label>'+datos[j].opciones[k]+'</label></li>');
                            //SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
                            if(k==resp){
                                $(".listadoRespuestas[data-id='"+[j]+"'] input")[k].setAttribute("checked", true);
                            }
                        }
                    }
                } else{
                    $("#accordion").append('<div class="panel panel-default accordion-group"><div class="box resultado incorrecto"><svg style="padding-right: 0px !important; cursor:pointer" class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[j]+'" aria-expanded="false" width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="cancel-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.0726496,0.11965812 17.5,0.11965812 C7.92735043,0.11965812 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M10.9786325,23.8418803 C11.2179487,24.0811966 11.517094,24.2008547 11.8461538,24.2008547 C12.1752137,24.2008547 12.474359,24.0811966 12.7136752,23.8418803 L17.5,19.0555556 L22.2863248,23.8418803 C22.525641,24.0811966 22.8247863,24.2008547 23.1538462,24.2008547 C23.482906,24.2008547 23.7820513,24.0811966 24.0213675,23.8418803 C24.5,23.3632479 24.5,22.5854701 24.0213675,22.1068376 L19.2350427,17.3205128 L24.0213675,12.534188 C24.5,12.0555556 24.5,11.2777778 24.0213675,10.7991453 C23.542735,10.3205128 22.7649573,10.3205128 22.2863248,10.7991453 L17.5,15.5854701 L12.7136752,10.7991453 C12.2350427,10.3205128 11.457265,10.3205128 10.9786325,10.7991453 C10.5,11.2777778 10.5,12.0555556 10.9786325,12.534188 L15.7649573,17.3205128 L10.9786325,22.1068376 C10.5,22.5854701 10.5,23.3632479 10.9786325,23.8418803 L10.9786325,23.8418803 Z" id="Shape1"></path></g></svg></div><div class="accordion-heading"><a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse_'+[j]+'" aria-expanded="false"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="add" fill="#000000"><path d="M17.5,0.14957265 C7.92735043,0.14957265 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.8974359,34.8504274 17.5,34.8504274 C27.0726496,34.8504274 34.8504274,27.0726496 34.8504274,17.5 C34.8504274,7.92735043 27.0726496,0.14957265 17.5,0.14957265 L17.5,0.14957265 L17.5,0.14957265 Z M17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 L17.5,32.4273504 L17.5,32.4273504 Z" id="circle"></path><path d="M18.7264957,9.33333333 C18.7264957,8.64529915 18.1880342,8.10683761 17.5,8.10683761 C16.8119658,8.10683761 16.2735043,8.64529915 16.2735043,9.33333333 L16.2735043,25.3076923 C16.2735043,25.9957265 16.8119658,26.534188 17.5,26.534188 C18.1880342,26.534188 18.7264957,25.9957265 18.7264957,25.3076923 L18.7264957,9.33333333 Z" id="more"></path><path d="M9.51282051,16.0940171 C8.82478632,16.0940171 8.28632479,16.6324786 8.28632479,17.3205128 C8.28632479,18.008547 8.82478632,18.5470085 9.51282051,18.5470085 L25.4871795,18.5470085 C26.1752137,18.5470085 26.7136752,18.008547 26.7136752,17.3205128 C26.7136752,16.6324786 26.1752137,16.1239316 25.4871795,16.1239316 L9.51282051,16.0940171 Z" id="less"></path></g></svg><div class="textopregunta">'+datos[j].pregunta+'</div></a></div><div id="collapse_'+[j]+'" class="collapse" aria-expanded="false"><div class="panel-body"><ul class="listadoRespuestas" data-id="'+[j]+'"></ul></div></div></div>');
                    for(k=0;k<datos[j].opciones.length;k++){
                        //SI LA OPCIÓN ES UNA OPCIÓN CORRECTA PINTO EL ICONO VERDE DEL CHECK
                        if (datos[j].correcta==datos[j].opciones[k]){
                            $(".listadoRespuestas[data-id='"+[j]+"']").append('<li><input type="radio" name="pregunta'+[j]+'" value="'+datos[j].opciones[k]+'" disabled><label>'+datos[j].opciones[k]+'</label><div class="box resultado correcto"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="check" fill="#000000"><path d="M17.3504274,34.7307692 C26.9230769,34.7307692 34.7307692,26.9529915 34.7307692,17.3504274 C34.7307692,7.74786325 26.9529915,0 17.3504274,0 C7.74786325,0 0,7.77777778 0,17.3504274 C0,26.9230769 7.77777778,34.7307692 17.3504274,34.7307692 L17.3504274,34.7307692 Z M17.3504274,2.42307692 C25.5769231,2.42307692 32.2777778,9.12393162 32.2777778,17.3504274 C32.2777778,25.5769231 25.5769231,32.2777778 17.3504274,32.2777778 C9.12393162,32.2777778 2.42307692,25.5769231 2.42307692,17.3504274 C2.42307692,9.12393162 9.12393162,2.42307692 17.3504274,2.42307692 L17.3504274,2.42307692 Z" id="Shape"></path><path d="M23.1239316,25.2478632 C23.4230769,25.2478632 23.7521368,25.1282051 23.991453,24.8888889 C24.4700855,24.4102564 24.4700855,23.6324786 23.991453,23.1538462 L12.9615385,16.1239316 L16.991453,12.0940171 C17.4700855,11.6153846 17.4700855,10.8376068 16.991453,10.3589744 C16.5128205,9.88034188 15.7350427,9.88034188 15.2564103,10.3589744 L10.3589744,15.2564103 C10.1196581,15.4957265 10,15.7948718 10,16.1239316 C10,16.4529915 10.1196581,16.7521368 10.3589744,16.991453 L22.2564103,24.8888889 C22.4957265,25.1282051 22.7948718,25.2478632 23.1239316,25.2478632 Z" id="Shape1" transform="translate(17.175214, 17.623932) rotate(-90.000000) translate(-17.175214, -17.623932) "></path></g></svg></div></li>')
                            //SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
                            if(k==resp){
                                $(".listadoRespuestas[data-id='"+[j]+"'] input")[k].setAttribute("checked", true);
                            }
                        }
                        //SI LA OPCIÓN ES UNA OPCIÓN INCORRECTA PINTO LA CRUZ ROJA DE FALLO
                        else{
                            $(".listadoRespuestas[data-id='"+[j]+"']").append('<li><input type="radio" name="pregunta'+[j]+'" value="'+datos[j].opciones[k]+'" disabled><label>'+datos[j].opciones[k]+'</label><div class="box resultado incorrecto"><svg width="35px" height="35px" viewBox="0 0 35 35" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="cancel-1" fill="#000000"><path d="M17.5,34.8803419 C27.0726496,34.8803419 34.8803419,27.1025641 34.8803419,17.5 C34.8803419,7.8974359 27.0726496,0.11965812 17.5,0.11965812 C7.92735043,0.11965812 0.11965812,7.92735043 0.11965812,17.5 C0.11965812,27.0726496 7.92735043,34.8803419 17.5,34.8803419 L17.5,34.8803419 Z M17.5,2.57264957 C25.7264957,2.57264957 32.4273504,9.27350427 32.4273504,17.5 C32.4273504,25.7264957 25.7264957,32.4273504 17.5,32.4273504 C9.27350427,32.4273504 2.57264957,25.7264957 2.57264957,17.5 C2.57264957,9.27350427 9.27350427,2.57264957 17.5,2.57264957 L17.5,2.57264957 Z" id="Shape"></path><path d="M10.9786325,23.8418803 C11.2179487,24.0811966 11.517094,24.2008547 11.8461538,24.2008547 C12.1752137,24.2008547 12.474359,24.0811966 12.7136752,23.8418803 L17.5,19.0555556 L22.2863248,23.8418803 C22.525641,24.0811966 22.8247863,24.2008547 23.1538462,24.2008547 C23.482906,24.2008547 23.7820513,24.0811966 24.0213675,23.8418803 C24.5,23.3632479 24.5,22.5854701 24.0213675,22.1068376 L19.2350427,17.3205128 L24.0213675,12.534188 C24.5,12.0555556 24.5,11.2777778 24.0213675,10.7991453 C23.542735,10.3205128 22.7649573,10.3205128 22.2863248,10.7991453 L17.5,15.5854701 L12.7136752,10.7991453 C12.2350427,10.3205128 11.457265,10.3205128 10.9786325,10.7991453 C10.5,11.2777778 10.5,12.0555556 10.9786325,12.534188 L15.7649573,17.3205128 L10.9786325,22.1068376 C10.5,22.5854701 10.5,23.3632479 10.9786325,23.8418803 L10.9786325,23.8418803 Z" id="Shape1"></path></g></svg></div></li>');
                            //SI LA OPCIÓN SELECCIONADA POR EL ALUMNO EN EL TEST COINCIDE CON EL VALOR DEL INPUT, PONEMOS EL INPUT RADIO MARCADO "CHECKED"
                            if(k==resp){
                                $(".listadoRespuestas[data-id='"+[j]+"'] input")[k].setAttribute("checked", true);
                            }
                        }
                    }
                }
                //alert("Pregunta: " + textopreg + "\n Respuesta alumno: " + respalumno + "\n Correcta: " + correcta);
            }
            //PARA EL FEEDBACK DEL TEST
            if(datostest[0].feedback=="si"){
                //CREO UNA CAJA DIV DONDE IRÁ EL TEXTO DEL ENCABEZADO DEL FEEDBACK
                var headerfeedback = document.createElement("DIV");
                //AÑADO LA CLASE FEEDBACK A ESE DIV PARA DARLE ESTILOS
                headerfeedback.className = "headerfeedback";
                //INSERTO EL TEXTO DEL FEEDBACK DENTRO DE LA CAJA
                var headerfeedbacktxt = document.createTextNode("Feedback:");
                headerfeedback.appendChild(headerfeedbacktxt);
                //CREO UNA CAJA DIV DONDE IRÁ EL TEXTO DEL FEEDBACK
                var node = document.createElement("DIV");
                //AÑADO LA CLASE FEEDBACK A ESE DIV PARA DARLE ESTILOS
                node.className = "feedback";
                //INSERTO EL TEXTO DEL FEEDBACK DENTRO DE LA CAJA
                var textnode = document.createTextNode(datos[j].feedback);
                node.appendChild(textnode);
                //INSERTO EL NODO DENTRO DE CADA PANEL BODY
                $("#accordion .panel-body")[j].appendChild(headerfeedback);
                $("#accordion .panel-body")[j].appendChild(node);
            }
        }
    }
    //PARA MOSTRAR LOS BOTONES DE MOSTRAR PREGUNTAS ACERTADAS Y FALLADAS
    $('.icon-falladas').css("display", "block");
    $('.icon-acertadas').css("display", "block");
    $('.icon-falladas').html($lupaWrongActive);
    $('.icon-acertadas').html($lupaOkActive);
    //PARA QUE SE ACTIVE EL BOTÓN DE IR ATRÁS EN EL TEST, PARA IR A LA PANTALLA DE RESULTADOS DEL TEST DONDE PONE EL PORCENTAJE DE NOTA
    $(".icon-prev").addClass("btn-prev");
    $(".icon-prev").removeClass("btn-prev-inactive");
    $(".btn-prev").on("click", volverResultado);
    volverResultado();
    volverAtras=true;
}


$(".btn-prev").on("click", volverResultado);

function volverResultado(){

	if (volverAtras==true){
		$(".icon-prev").addClass("btn-prev-inactive");
		$(".icon-prev").removeClass("btn-prev");
		$("#accordion").html("");
		$("#resultado").css("display", "block");
		$("#btn-revisarpreguntas").css("display", "inline-block");
		$("#resultados-test").css("display", "none");

		//PARA OCULTAR LOS BOTONES DE MOSTRAR PREGUNTAS ACERTADAS Y FALLADAS
		$('.icon-falladas').css("display", "none");
		$('.icon-acertadas').css("display", "none");
		//SI HE LLEGADO AL MÁXIMO NÚMERO DE INTENTOS CUANDO VUELVA A LA PANTALLA DE RESULTADO NO DEBE APARECER EL BOTÓN DE REPETIR TEST, EN CAMBIO SI ESTOY EN CORNERSTONE APARECERÁ EL BOTÓN DE CERRAR TEST
		if (datostest[0].numerointentos!=obtenerdatos("intentosrealizados")){
			$("#btn-repetirtest").css("display", "inline-block");
		}
		else{
			$("#btn-repetirtest").css("display", "none");
		}
		//SI HE APROBADO EL TEST CUANDO VUELVA A LA PANTALLA DE RESULTADO NO DEBE APARECER EL BOTÓN DE REPETIR TEST NI EL DE CERRAR Y REPETIR TEST
		if (puntuacion >=datostest[0].aprobadonota){
			$("#btn-repetirtest").css("display", "none");	
		}
	}
	volverAtras=false;
	falladasActivas = true;
	acertadasActivas = true;
}


//M O S T R A R  /  O C U L T A R   P R E G U N T A S    (P A N T A L L A    R E V I S A R    P R E G U N T A S)
	
	//Función Mostrar / Ocultar Preguntas Falladas
	//var falladasActivas = true; movido al inicio
	$('.icon-falladas').on('click',function(){
		//Ocultar Falladas
		if(falladasActivas == true){
			$('.icon-falladas').html($lupaWrongInactive);

			for (i=0; i<$(".accordion-group").length; i++){
				if ($(".accordion-group")[i].childNodes[0].classList.contains("incorrecto")==true){
					$(".accordion-group")[i].style.display="none";
				}
			}

			falladasActivas = false;
		//Mostrar Falladas
		}else if(falladasActivas == false){
			$('.icon-falladas').html($lupaWrongActive);

			for (i=0; i<$(".accordion-group").length; i++){
				if ($(".accordion-group")[i].childNodes[0].classList.contains("incorrecto")==true){
					$(".accordion-group")[i].style.display="block";
				}
			}

			falladasActivas = true;
		}
	});

	//Función Mostrar / Ocultar Preguntas Acertadas
	//var acertadasActivas = true; movido al principio
	$('.icon-acertadas').on('click',function(){
		//Ocultar Acertadas
		if(acertadasActivas == true){
			$('.icon-acertadas').html($lupaOkInactive);

			for (i=0; i<$(".accordion-group").length; i++){
				if ($(".accordion-group")[i].childNodes[0].classList.contains("correcto")==true){
					$(".accordion-group")[i].style.display="none";
				}
			}

			acertadasActivas = false;
		//Mostrar Acertadas
		}else if(acertadasActivas == false){
			$('.icon-acertadas').html($lupaOkActive);

			for (i=0; i<$(".accordion-group").length; i++){
				if ($(".accordion-group")[i].childNodes[0].classList.contains("correcto")==true){
					$(".accordion-group")[i].style.display="block";
				}
			}
			acertadasActivas = true;
		}
	});


//PARA VER EN LA CONSOLA LAS PREGUNTAS QUE HAN SALIDO EN EL ULTIMO INTENTO CON LA OPCIÓN SELECCIONADA POR EL ALUMNO
function verRespuestas(){
	for (i=0; i<datostest[0].numeropreguntas; i++){
		//console.log(doLMSGetValue("cmi.objectives."+i+".id"));
	}
}

//Funcion numPaginas: función que me sirve para sacar el número de páginas que tiene el test
function numPaginas(){
	if (datostest[0].eliminaracertadas=="si"){
		numPreguntasAcertadas=obtenerdatos("preguntasacertadas").split("_").length-1;
		paginastotales=datostest[0].numeropreguntas-numPreguntasAcertadas+2;
		ultimapagina=paginastotales-1;
	}
	else{
		ultimapagina=datostest[0].numeropreguntas+1;
	}
}


function actualizarPagina(){
	window.top.location.reload(); 
	cargar();
}

//FUNCION PARA INICIALIZAR LAS VARIABLES AL REPETIR EL TEST
function inicializacion()
{
	//Copiamos 
datos=datoscopia.slice();


//-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
contador=0;

//SI QUIERO ELIMINAR LAS PREGUNTAS ACERTADAS EN LOS SIGUIENTES INTENTOS DEL TEST ENTRA AQUI Y DE PUNTUACIÓN INICIAL SERÁ LA QUE SAQUE EN EL INTENTO PREVIO A NO SER DE QUE HAYA INICIADO EL TEST POR PRIMERA VEZ
if (datostest[0].eliminaracertadas=="si"){

	puntuacion = 0;
	// if(doLMSGetValue("cmi.core.score.raw")==""){
	// 	puntuacion=0;
	// }
	// else{
	// 	puntuacion=parseFloat(doLMSGetValue("cmi.core.score.raw"));
	// }
}
//SI NO QUIERO ELIMINAR LAS PREGUNTAS ACERTADAS DEL TEST EN LOS SIGUIENTES INTENTOS LA PUNTUACION SERÁ DE 0
else{
	puntuacion=0;
}

//var opcionseleccionada;
//var intentosrealizados;
paginastotales=datostest[0].numeropreguntas+2;
//var ultimapagina;


arrayopcionseleccionada=[];

//FUNCIÓN PARA CONTAR EL TIEMPO TOTAL QUE ESTOY DENTRO DEL TEST
timeinseconds=0;


//FUNCIÓN PARA CONTAR EL TIEMPO QUE ESTOY DENTRO DE LAS PREGUNTAS
timeinsecondstest=0;
tiempotest=0;
//FUNCIÓN PARA INTRODUCIR LAS RESPUESTAS DEL ALUMNO EN LA BASE DE DATOS
arrayopcionesintento=[];
//var volverAtras;
falladasActivas = true;
acertadasActivas = true;
}
